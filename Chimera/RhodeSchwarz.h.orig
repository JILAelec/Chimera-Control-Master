#pragma once
<<<<<<< HEAD
=======

#include "GpibFlume.h"
>>>>>>> 750e7f923638bc09c2c9486ae03a82546e6e9e7f
#include "Control.h"
#include <vector>
#include <string>
#include <unordered_map>
<<<<<<< HEAD
#include "GpibFlume.h"

=======
>>>>>>> 750e7f923638bc09c2c9486ae03a82546e6e9e7f

struct rsgEventForm
{
	Expression frequency;
	Expression power;
	timeType time;
};


struct rsgEvent
{
	double frequency;
	double power;
	double time;
};


/**/
class RhodeSchwarz
{
	public:
		RhodeSchwarz::RhodeSchwarz();
		void initialize( POINT& pos, cToolTips& toolTips, AuxiliaryWindow* master, int& id );
<<<<<<< HEAD
		void programRSG(UINT variation );
		void addFrequency( rsgEventForm eventInfo );
		void clearFrequencies();
		std::vector<rsgEventForm> getFrequencyForms();
		void interpretKey(key variationKey, std::vector<variableType>& vars);	
=======
		void programRsg(UINT variation );
		void addFrequency( rsgEventForm eventInfo );
		void clearFrequencies();
		std::vector<rsgEventForm> getFrequencyForms();
		void interpretKey( std::vector<variableType>& variables);
>>>>>>> 750e7f923638bc09c2c9486ae03a82546e6e9e7f
		void orderEvents(UINT variation );
		void setInfoDisp(UINT variation );
		std::string getIdentity();
		std::string getRsgTtl();
		double getTriggerLength();
		void rearrange(UINT width, UINT height, fontMap fonts);
	private:
		GpibFlume gpibFlume;
		std::vector<rsgEventForm> eventStructures;
		// outer vector is over each variation.
		std::vector<std::vector<rsgEvent>> events;
		double triggerTime;
		std::string rsgTtl;
		// 
		Control<CStatic> header;
		// this is a read-only control that shows the user how the RSG actually gets programmed in the end.
		Control<CListCtrl> infoControl;
};